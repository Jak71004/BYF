<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
    
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Bet You FAIL</title>

        <!--jQuery from a CDN-->
        <script type="text/javascript" src="https://code.jquery.com/jquery-latest.min.js"></script>

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!--Bootstrap CSS from a CDN-->
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.css">
        <!--BootstrapJS from a CDN-->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
        
        
        <link rel="stylesheet" href="css/style.css">
        
        <!--BitcoinJS-->
        <script src="./bitcoinjs.min.js"></script>
        
    </head>

    <body>
        <div class="container">
            <div class="row">
                <div class="col-md-4 center-block" style="float:none;">
                    <div class="page-header">
                      <h1>Time To Fess Up.</h1>
                    </div>
                    <form name="userForm" ng-controller="validateCtrl">
                        <div class="form-group" ng-class="{ 'has-error' : userForm.email.$invalid && !userForm.email.$pristine }" >
                          <label for="inputEmail1">Email address</label>
                          <input type="email" class="form-control" name="email" id="inputEmail1" placeholder="{{wager.email}}" ng-model="wager.email" required>
                          <p ng-show="userForm.email.$invalid && !userForm.email.$pristine" class="help-block">Something here isn't right.</p>
                        </div>
                        
                        <div class="form-group" ng-class="{ 'has-error' : userForm.inputPublicAddress.$invalid && !userForm.inputPublicAddress.$pristine }">
                            <label for="inputPublicAddress">Public Address</label>
                            <input type="text" class="form-control" name="inputPublicAddress" id="inputPublicAddress" placeholder="{{wager.publicAddress}}" >
                            <p ng-show="userForm.inputPublicAddress.$invalid && !userForm.inputPublicAddress.$pristine" class="help-block">The Public Address is Required</p>
                        </div>
                        
                        <button type="button" class="btn btn-danger" ng-disabled="userForm.$invalid" data-toggle="modal" data-target="#defeatModal" ng-click="GetWager();">Get Your Wager</button>
                        
                        <!-- Indicates a successful or positive action -->
<!--                        <button type="button" class="btn btn-success">Success</button>-->

                        <!-- Indicates a dangerous or potentially negative action -->
<!--                        <button type="button" class="btn btn-danger">Failure</button>-->
                        
                        
                        
                    </form>
                   
                </div>
                
                <!-- Modal -->
                  <div class="modal fade" id="defeatModal" role="dialog">
                    <div class="modal-dialog">

                      <!-- Modal content-->
                      <div class="modal-content">
                        <div class="modal-header">
                          <button type="button" class="close" data-dismiss="modal">&times;</button>
                          <h4 class="modal-title">Here's Your Wager</h4>
                        </div>
                        <div class="modal-body">
                            <div class="media">
<!--
                              <div class="media-left">
                                <img class="media-object" id="qrCode" ng-src="https://chart.googleapis.com/chart?chs=250x250&cht=qr&chl=bitcoin:{{wager.publicAddress}}?amount={{wager.amountBTC}}&message=You\'re Going to fail"></img>
                              </div>
-->
                              <div class="media-body">
                              <h4 class="media-heading">Did You Fail?</h4>
                                <p>Here's what you said you could do.</p>    
                                <dl class="dl-horizontal">
                                  <dt>Challenge:</dt>
                                  <dd>{{wager.proposition}}</dd>
                                  <dt>Duration:</dt>
                                  <dd>{{wager.duration}}</dd>
                                  <dt>Amount:</dt>
                                  <dd>{{wager.amount | currency}}</dd>
                                </dl>
                              </div>
                            </div>
                            
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-success" ng-click="ChangeView('success');">"Success"</button>
                            <button type="button" class="btn btn-danger" ng-click="ChangeView('failure');">Failure</button>
<!--                          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>-->
                        </div>
                      </div>

                    </div>
                  </div>
                
                <br />
                <br />
            <p>&nbsp;</p>
            </div>
            
        </div>
        
    </body>
</html>
