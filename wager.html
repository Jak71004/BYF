<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
    
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <title>Bet You FAIL</title>

        <!--jQuery from a CDN-->
        <script type="text/javascript" src="//code.jquery.com/jquery-latest.min.js"></script>

        
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!--Bootstrap CSS from a CDN-->
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.css">
        <link rel="stylesheet" href="css/style.css">
              
        <!--BootstrapJS from a CDN-->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
        
        <!--BitcoinJS-->
        <script src="./bitcoinjs.min.js"></script>
        
    </head>

    <body>
        <div class="container">
            <div class="row">
                <div class="col-md-4 center-block" style="float:none;">
                    <p>
                        We want you to succeed, really, we do.  However, the odds are not in your favor.  Here is your chance to prove us wrong.
                    </p>
                    <form>
                      <div class="form-group">
                        <label for="inputEmail1">Email address</label>
                        <input type="email" class="form-control" id="inputEmail1" placeholder="{{wager.email}}" ng-model="wager.email">
                      </div>
                      <div class="form-group">
                        <label for="inputAmount">Amount <small>$0.10 minimum/$1000 maximum</small></label>
                        <input type="number" class="form-control" id="inputAmount" placeholder="{{wager.amount | currency}}" ng-model="wager.amount">
                      </div>
                      <div class="form-group">
                        <label for="inputGoal">Goal</label>
                        <select class="form-control" id="inputGoal" ng-model="wager.proposition">
                          <option>Loose Weight</option>
                          <option>Quit Smoking</option>
                          <option>Learn Something New</option>
                          <option>Get Out of Debt</option>
                          <option>Spend More Time with Family</option>
                          <option>Travel</option>
                          <option>Volunteer</option>
                        </select>
                      </div>
                      <div class="form-group">
                        <label for="inputStartMetric">Start Metric</label>
                        <input type="text" class="form-control" id="inputStartMetric" placeholder="" ng-model="wager.startMetric">
                      </div>
                      <div class="form-group">
                        <label for="inputGoalMetric">End Metric</label>
                        <input type="text" class="form-control" id="inputGoalMetric" placeholder="" ng-model="endMetric">
                      </div>
                        
                      <div class="form-group">
                        <label for="inputDuration">Duration</label>
                        <select class="form-control" id=inputDuration ng-model="wager.duration">
                          <option>1 Week</option>
                          <option>2 Weeks</option>
                          <option>3 Weeks</option>
                          <option>4 Weeks</option>
                        </select>
                        
                      </div>
                     
                      <button type="button" class="btn btn-default" data-toggle="modal" data-target="#myModal"ng-click="UpdateBTC();">Make Your Wager</button>
                    </form>
                </div>
                
                <!-- Modal -->
                  <div class="modal fade" id="myModal" role="dialog">
                    <div class="modal-dialog">

                      <!-- Modal content-->
                      <div class="modal-content">
                        <div class="modal-header">
                          <button type="button" class="close" data-dismiss="modal">&times;</button>
                          <h4 class="modal-title">Confirm Your Wager</h4>
                        </div>
                        <div class="modal-body">
                            <div class="container">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <img id="qrCode" ng-src="https://chart.googleapis.com/chart?chs=250x250&cht=qr&chl=bitcoin:{{btcAddress}}?amount={{wager.amountBTC}}&message=You\'re Going to fail"></img>
                                    </div>
                                    <div class="col-sm-4">
                                    <p>Putting your money where you mouth is, good for you.  Don't worry, that bad taste in your mouth will be washed away with all that crow you'll be eating.</p>    
                                    <dl class="dl-horizontal">
                                      <dt>Challenge:</dt>
                                      <dd>{{wager.proposition}}</dd>
                                      <dt>Duration:</dt>
                                      <dd>{{wager.duration}}</dd>
                                      <dt>Amount:</dt>
                                      <dd>{{wager.amount | currency}}</dd>
                                    </dl>
                                </div>    
                                </div>
                            </div>
                          <div>
                            
                        </div>
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                        </div>
                      </div>

                    </div>
                  </div>
            </div>
            
        </div>
    
    </body>
    <script>
        $(document).ready(function(){
            
            /*$("#myBtn").click(function(){
                $("#myModal").modal("show");
            });
            
            var keyPair = Bitcoin.ECPair.makeRandom();

            $("#qrCode").attr("src", "https://chart.googleapis.com/chart?chs=250x250&cht=qr&chl=bitcoin:"+keyPair.getAddress()+"?amount={{wager.amountBTC}}&message=You're Going to fail" );
            */
            
        });
    </script>
</html>
